[gd_scene load_steps=21 format=3 uid="uid://bx15fvqd0m5ju"]

[ext_resource type="Texture2D" uid="uid://cmxhxvt2ywubf" path="res://assets/tilesets/grass tilemap.png" id="1_5grux"]
[ext_resource type="Script" path="res://main.gd" id="1_6p1ww"]
[ext_resource type="Texture2D" uid="uid://daplgumm3yau7" path="res://assets/tilesets/animatedwater.png" id="2_c84y1"]
[ext_resource type="PackedScene" uid="uid://deghux3vsmge3" path="res://player/player.tscn" id="3_0oq2p"]
[ext_resource type="Texture2D" uid="uid://ciat32vfeu5ic" path="res://assets/selfmadehouse.png" id="4_6ba6v"]
[ext_resource type="Texture2D" uid="uid://cuqxotly4b0vb" path="res://assets/simpletree.png" id="5_7cgi1"]
[ext_resource type="Texture2D" uid="uid://c8jkjaao213b7" path="res://assets/gold-dollar-coin-18550(3).png" id="6_a6wdc"]
[ext_resource type="FontFile" uid="uid://dwvnucq3ajek6" path="res://fonts/OpenSans-VariableFont_wdth,wght.ttf" id="7_46pfm"]
[ext_resource type="Script" path="res://coins_label.gd" id="8_fa0i4"]
[ext_resource type="Shader" path="res://water.gdshader" id="10_0rjtn"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_6ruyo"]
texture = ExtResource("1_5grux")
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:0/0 = 0
2:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:0/0/physics_layer_0/angular_velocity = 0.0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:0/0 = 0
4:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:0/0/physics_layer_0/angular_velocity = 0.0
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:1/0 = 0
1:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:1/0/physics_layer_0/angular_velocity = 0.0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:1/0 = 0
2:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:1/0/physics_layer_0/angular_velocity = 0.0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:2/0 = 0
0:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:2/0/physics_layer_0/angular_velocity = 0.0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:2/0 = 0
1:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:2/0/physics_layer_0/angular_velocity = 0.0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:2/0 = 0
2:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:2/0/physics_layer_0/angular_velocity = 0.0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_q73if"]
texture = ExtResource("2_c84y1")
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSet" id="TileSet_jq47t"]
physics_layer_0/collision_layer = 2
physics_layer_0/collision_mask = 5
sources/0 = SubResource("TileSetAtlasSource_6ruyo")
sources/1 = SubResource("TileSetAtlasSource_q73if")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5rn23"]
size = Vector2(66, 47.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_g3ilx"]
size = Vector2(5.5, 128)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_l6tum"]
size = Vector2(8, 86)

[sub_resource type="Theme" id="Theme_v0bmd"]
default_font = ExtResource("7_46pfm")
default_font_size = 15

[sub_resource type="RectangleShape2D" id="RectangleShape2D_w4q0p"]
size = Vector2(18.5, 20)

[sub_resource type="Theme" id="Theme_0ued0"]
default_font = ExtResource("7_46pfm")
default_font_size = 5

[sub_resource type="ShaderMaterial" id="ShaderMaterial_x2xo2"]
shader = ExtResource("10_0rjtn")
shader_parameter/progress = 0.9
shader_parameter/wave_1_color = Color(0.356863, 0.611765, 0.85098, 1)
shader_parameter/wave_1_amplitude = 0.05
shader_parameter/wave_1_frequency = -1.0
shader_parameter/wave_1_speed = 1.5
shader_parameter/wave_2_color = Color(0.396078, 0.709804, 0.898039, 1)
shader_parameter/wave_2_amplitude = 0.05
shader_parameter/wave_2_frequency = 1.0
shader_parameter/wave_2_speed = 1.5
shader_parameter/wave_2_shift = 1.0
shader_parameter/bg_color = Color(0.299548, 0.299547, 0.299547, 1)

[node name="MainScene" type="Node2D"]
script = ExtResource("1_6p1ww")

[node name="TileMap" type="TileMap" parent="."]
texture_filter = 1
tile_set = SubResource("TileSet_jq47t")
format = 2
layer_0/tile_data = PackedInt32Array(1310737, 0, 0, 1310738, 65536, 0, 1310739, 65536, 0, 1310740, 65536, 0, 1310741, 65536, 0, 1310742, 65536, 0, 1310743, 65536, 0, 1310744, 65536, 0, 1310745, 65536, 0, 1310746, 65536, 0, 1310747, 65536, 0, 1310748, 65536, 0, 1310749, 65536, 0, 1310750, 65536, 0, 1310751, 65536, 0, 1310752, 65536, 0, 1310753, 65536, 0, 1310754, 65536, 0, 1310755, 65536, 0, 1310756, 65536, 0, 1310757, 131072, 0, 1376274, 65536, 1, 1376275, 65536, 1, 1376276, 65536, 1, 1376277, 65536, 1, 1376278, 65536, 1, 1376279, 65536, 1, 1376280, 65536, 1, 1376281, 65536, 1, 1376282, 65536, 1, 1376283, 65536, 1, 1376284, 65536, 1, 1376285, 65536, 1, 1376286, 65536, 1, 1376287, 65536, 1, 1376288, 65536, 1, 1376289, 65536, 1, 1376290, 65536, 1, 1376291, 65536, 1, 1376292, 65536, 1, 1376293, 131072, 1, 1441829, 131072, 1, 1507365, 131072, 1, 1572901, 131072, 1, 1572900, 65536, 1, 1572899, 65536, 1, 1572898, 65536, 1, 1572897, 65536, 1, 1572896, 65536, 1, 1572895, 65536, 1, 1572894, 65536, 1, 1572893, 65536, 1, 1572892, 65536, 1, 1572891, 65536, 1, 1572890, 65536, 1, 1572889, 65536, 1, 1572888, 65536, 1, 1572887, 65536, 1, 1572886, 65536, 1, 1572885, 65536, 1, 1572884, 65536, 1, 1572883, 65536, 1, 1572882, 65536, 1, 1572881, 0, 1, 1507345, 0, 1, 1441809, 0, 1, 1376273, 0, 1, 1507346, 65536, 1, 1441810, 65536, 1, 1441811, 65536, 1, 1507347, 65536, 1, 1507348, 65536, 1, 1507349, 65536, 1, 1507350, 65536, 1, 1507351, 65536, 1, 1507352, 65536, 1, 1507353, 65536, 1, 1507354, 65536, 1, 1507355, 65536, 1, 1507356, 65536, 1, 1507357, 65536, 1, 1507358, 65536, 1, 1507359, 65536, 1, 1507360, 65536, 1, 1507361, 65536, 1, 1507362, 65536, 1, 1507363, 65536, 1, 1507364, 65536, 1, 1441828, 65536, 1, 1441827, 65536, 1, 1441826, 65536, 1, 1441825, 65536, 1, 1441824, 65536, 1, 1441823, 65536, 1, 1441813, 65536, 1, 1441812, 65536, 1, 1441814, 65536, 1, 1441815, 65536, 1, 1441816, 65536, 1, 1441817, 65536, 1, 1441818, 65536, 1, 1441819, 65536, 1, 1441820, 65536, 1, 1441821, 65536, 1, 1441822, 65536, 1, 1572902, 1, 1, 1507366, 1, 1, 1441830, 1, 1, 1376294, 1, 1, 1310758, 1, 0, 1310759, 1, 0, 1310760, 1, 0, 1310761, 1, 0, 1310762, 1, 0, 1310763, 1, 0, 1310764, 1, 0, 1310765, 1, 0, 1310766, 1, 0, 1310767, 1, 0, 1310768, 1, 0, 1310769, 1, 0, 1310770, 1, 0, 1310771, 1, 0, 1310772, 1, 0, 1310773, 1, 0, 1310774, 1, 0, 1572903, 1, 1, 1572904, 1, 1, 1572905, 1, 1, 1572906, 1, 1, 1572907, 1, 1, 1572908, 1, 1, 1572909, 1, 1, 1572910, 1, 1, 1572911, 1, 1, 1572912, 1, 1, 1572913, 1, 1, 1572914, 1, 1, 1572915, 1, 1, 1572916, 1, 1, 1572917, 1, 1, 1572918, 1, 1, 1572919, 1, 1, 1507383, 1, 1, 1441847, 1, 1, 1376311, 1, 1, 1310775, 1, 0, 1441831, 1, 1, 1507367, 1, 1, 1376295, 1, 1, 1376296, 1, 1, 1376297, 1, 1, 1376298, 1, 1, 1376299, 1, 1, 1376300, 1, 1, 1376301, 1, 1, 1376302, 1, 1, 1376303, 1, 1, 1376304, 1, 1, 1376305, 1, 1, 1376306, 1, 1, 1376307, 1, 1, 1376308, 1, 1, 1376309, 1, 1, 1376310, 1, 1, 1441846, 1, 1, 1507382, 1, 1, 1507381, 1, 1, 1507380, 1, 1, 1507379, 1, 1, 1507378, 1, 1, 1507377, 1, 1, 1507376, 1, 1, 1507375, 1, 1, 1507374, 1, 1, 1507373, 1, 1, 1507372, 1, 1, 1507371, 1, 1, 1507370, 1, 1, 1507369, 1, 1, 1507368, 1, 1, 1441832, 1, 1, 1441833, 1, 1, 1441834, 1, 1, 1441835, 1, 1, 1441836, 1, 1, 1441837, 1, 1, 1441838, 1, 1, 1441839, 1, 1, 1441840, 1, 1, 1441841, 1, 1, 1441842, 1, 1, 1441843, 1, 1, 1441844, 1, 1, 1441845, 1, 1, 1638438, 1, 1, 1638439, 1, 1, 1638440, 1, 1, 1638441, 1, 1, 1638442, 1, 1, 1638443, 1, 1, 1638444, 1, 1, 1638445, 1, 1, 1638446, 1, 1, 1638447, 1, 1, 1638448, 1, 1, 1638449, 1, 1, 1638450, 1, 1, 1638451, 1, 1, 1638452, 1, 1, 1638453, 1, 1, 1638454, 1, 1, 1638455, 1, 1, 1703991, 1, 1, 1769527, 1, 1, 1835063, 1, 1, 1835062, 1, 1, 1835061, 1, 1, 1835060, 1, 1, 1835059, 1, 1, 1835058, 1, 1, 1835057, 1, 1, 1835056, 1, 1, 1835055, 1, 1, 1835054, 1, 1, 1835053, 1, 1, 1835052, 1, 1, 1835051, 1, 1, 1835050, 1, 1, 1835049, 1, 1, 1835048, 1, 1, 1835047, 1, 1, 1835046, 1, 1, 1769510, 1, 1, 1703974, 1, 1, 1703975, 1, 1, 1769511, 1, 1, 1703976, 1, 1, 1769512, 1, 1, 1703977, 1, 1, 1769513, 1, 1, 1703978, 1, 1, 1769514, 1, 1, 1703979, 1, 1, 1769515, 1, 1, 1703980, 1, 1, 1769516, 1, 1, 1769517, 1, 1, 1703981, 1, 1, 1769518, 1, 1, 1703982, 1, 1, 1769519, 1, 1, 1769520, 1, 1, 1703984, 1, 1, 1703983, 1, 1, 1769521, 1, 1, 1769522, 1, 1, 1703986, 1, 1, 1703985, 1, 1, 1769523, 1, 1, 1769524, 1, 1, 1769525, 1, 1, 1703989, 1, 1, 1703988, 1, 1, 1703987, 1, 1, 1703990, 1, 1, 1769526, 1, 1, 1835064, 1, 1, 1835065, 1, 1, 1835066, 1, 1, 1769530, 1, 1, 1703994, 1, 1, 1638458, 1, 1, 1572922, 1, 1, 1507386, 1, 1, 1441850, 1, 1, 1376314, 1, 1, 1376313, 1, 1, 1376312, 1, 1, 1441848, 1, 1, 1507384, 1, 1, 1572920, 1, 1, 1638456, 1, 1, 1703992, 1, 1, 1769529, 1, 1, 1703993, 1, 1, 1638457, 1, 1, 1572921, 1, 1, 1507385, 1, 1, 1769528, 1, 1, 1441849, 1, 1, 1310776, 1, 0, 1310777, 1, 0, 1310778, 1, 0, 1638437, 131072, 1, 1703973, 131072, 1, 1769509, 131072, 1, 1835045, 131072, 2, 1638436, 65536, 1, 1703972, 65536, 1, 1769508, 65536, 1, 1769507, 65536, 1, 1769506, 65536, 1, 1769505, 65536, 1, 1769504, 65536, 1, 1769503, 65536, 1, 1769502, 65536, 1, 1769501, 65536, 1, 1769500, 65536, 1, 1769499, 65536, 1, 1769498, 65536, 1, 1769497, 65536, 1, 1769496, 65536, 1, 1769495, 65536, 1, 1769494, 65536, 1, 1638418, 65536, 1, 1703954, 65536, 1, 1769490, 65536, 1, 1769491, 65536, 1, 1769492, 65536, 1, 1769493, 65536, 1, 1703956, 65536, 1, 1638420, 65536, 1, 1638419, 65536, 1, 1703955, 65536, 1, 1638421, 65536, 1, 1703957, 65536, 1, 1703958, 65536, 1, 1638422, 65536, 1, 1638423, 65536, 1, 1703959, 65536, 1, 1703960, 65536, 1, 1638424, 65536, 1, 1638425, 65536, 1, 1703961, 65536, 1, 1703962, 65536, 1, 1638426, 65536, 1, 1638427, 65536, 1, 1703963, 65536, 1, 1703964, 65536, 1, 1638428, 65536, 1, 1638429, 65536, 1, 1703965, 65536, 1, 1703966, 65536, 1, 1638430, 65536, 1, 1638431, 65536, 1, 1703967, 65536, 1, 1703968, 65536, 1, 1638432, 65536, 1, 1638433, 65536, 1, 1703969, 65536, 1, 1703970, 65536, 1, 1638434, 65536, 1, 1638435, 65536, 1, 1703971, 65536, 1, 1638417, 0, 1, 1703953, 0, 1, 1769489, 0, 1, 1835025, 0, 2, 1835026, 65536, 2, 1835027, 65536, 2, 1835028, 65536, 2, 1835029, 65536, 2, 1835030, 65536, 2, 1835031, 65536, 2, 1835032, 65536, 2, 1835033, 65536, 2, 1835034, 65536, 2, 1835035, 65536, 2, 1835036, 65536, 2, 1835037, 65536, 2, 1835038, 65536, 2, 1835039, 65536, 2, 1835040, 65536, 2, 1835041, 65536, 2, 1835042, 65536, 2, 1835043, 65536, 2, 1835044, 65536, 2)

[node name="Player" parent="." instance=ExtResource("3_0oq2p")]
z_index = 1
position = Vector2(441, 307)

[node name="PlayerHouse" type="StaticBody2D" parent="."]
collision_layer = 4
collision_mask = 2

[node name="Sprite2D" type="Sprite2D" parent="PlayerHouse"]
position = Vector2(366, 263)
texture = ExtResource("4_6ba6v")

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerHouse"]
position = Vector2(366, 295.75)
shape = SubResource("RectangleShape2D_5rn23")

[node name="InvisibleWallRight" type="StaticBody2D" parent="."]
position = Vector2(609, 262)
collision_layer = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="InvisibleWallRight"]
position = Vector2(-0.75, 0)
shape = SubResource("RectangleShape2D_g3ilx")

[node name="InvisibleWallLeft" type="StaticBody2D" parent="."]
position = Vector2(272, 263)
collision_layer = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="InvisibleWallLeft"]
shape = SubResource("RectangleShape2D_g3ilx")

[node name="ActualSpot" type="Area2D" parent="."]
position = Vector2(606, 282)

[node name="CollisionShape2D" type="CollisionShape2D" parent="ActualSpot"]
shape = SubResource("RectangleShape2D_l6tum")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = 2

[node name="CoinsPanel" type="Panel" parent="CanvasLayer"]
anchors_preset = -1
anchor_left = 0.016
anchor_top = 0.889
anchor_right = 0.133
anchor_bottom = 0.972
offset_left = -0.240001
offset_top = -0.0400085
offset_right = -0.120003
offset_bottom = 0.0799866
grow_vertical = 0
pivot_offset = Vector2(30, 15)

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/CoinsPanel"]
texture_filter = 1
layout_mode = 2
anchor_left = 0.067
anchor_top = 0.1
anchor_right = 0.373
anchor_bottom = 0.9
offset_left = -1.025
offset_right = 0.0249977
texture = ExtResource("6_a6wdc")
expand_mode = 4

[node name="CenterContainer" type="CenterContainer" parent="CanvasLayer/CoinsPanel"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.413
anchor_top = 0.133
anchor_right = 0.983
anchor_bottom = 0.867
offset_left = 0.0249996
offset_top = 0.00999999
offset_right = 0.274994
offset_bottom = -0.0100021
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="CanvasLayer/CoinsPanel/CenterContainer" groups=["ThingsToSave"]]
layout_mode = 2
theme = SubResource("Theme_v0bmd")
script = ExtResource("8_fa0i4")

[node name="CloseGamePanel" type="Panel" parent="CanvasLayer"]
process_mode = 3
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(320, 180)

[node name="SaveAndQuitButton" type="Button" parent="CanvasLayer/CloseGamePanel"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.4
anchor_top = 0.539
anchor_right = 0.6
anchor_bottom = 0.625
offset_top = -0.0400085
grow_horizontal = 2
grow_vertical = 2
mouse_default_cursor_shape = 2
text = "SAVE AND QUIT"

[node name="ResumeButton" type="Button" parent="CanvasLayer/CloseGamePanel"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.444
anchor_top = 0.428
anchor_right = 0.556
anchor_bottom = 0.514
offset_left = -0.160034
offset_top = -0.0800171
offset_right = 0.159973
offset_bottom = -0.0399628
mouse_default_cursor_shape = 2
text = "RESUME"

[node name="Shop" type="Node2D" parent="."]
position = Vector2(521, 308)

[node name="ShopConceptArea" type="Area2D" parent="Shop"]

[node name="Simpletree" type="Sprite2D" parent="Shop/ShopConceptArea"]
position = Vector2(1, 2)
scale = Vector2(1.2, 1.2)
texture = ExtResource("5_7cgi1")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Shop/ShopConceptArea"]
position = Vector2(0.25, 2)
shape = SubResource("RectangleShape2D_w4q0p")

[node name="OpenShopButton" type="Button" parent="Shop/ShopConceptArea"]
visible = false
anchors_preset = -1
anchor_left = 0.027
anchor_right = 0.971
anchor_bottom = 1.0
offset_left = -17.0
offset_top = -29.0
offset_right = 17.0
offset_bottom = -13.0
grow_horizontal = 2
grow_vertical = 2
mouse_default_cursor_shape = 2
theme = SubResource("Theme_0ued0")
text = "Open shop"

[node name="ColorRect" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_x2xo2")
offset_left = 608.0
offset_top = 323.0
offset_right = 943.0
offset_bottom = 422.0

[connection signal="body_entered" from="ActualSpot" to="Player" method="_on_actual_spot_body_entered"]
[connection signal="body_exited" from="ActualSpot" to="Player" method="_on_actual_spot_body_exited"]
[connection signal="pressed" from="CanvasLayer/CloseGamePanel/SaveAndQuitButton" to="." method="_on_save_and_quit_button_pressed"]
[connection signal="pressed" from="CanvasLayer/CloseGamePanel/ResumeButton" to="." method="_on_resume_button_pressed"]
[connection signal="body_entered" from="Shop/ShopConceptArea" to="Player" method="_on_shop_concept_area_body_entered"]
[connection signal="body_exited" from="Shop/ShopConceptArea" to="Player" method="_on_shop_concept_area_body_exited"]
[connection signal="mouse_exited" from="Shop/ShopConceptArea/OpenShopButton" to="." method="_on_open_shop_button_mouse_exited"]
