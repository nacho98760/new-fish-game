[gd_scene load_steps=22 format=3 uid="uid://bx15fvqd0m5ju"]

[ext_resource type="Texture2D" uid="uid://cmxhxvt2ywubf" path="res://assets/tilesets/grass tilemap.png" id="1_5grux"]
[ext_resource type="Script" path="res://main.gd" id="1_6p1ww"]
[ext_resource type="Texture2D" uid="uid://daplgumm3yau7" path="res://assets/tilesets/animatedwater.png" id="2_c84y1"]
[ext_resource type="PackedScene" uid="uid://deghux3vsmge3" path="res://player/player.tscn" id="3_0oq2p"]
[ext_resource type="Texture2D" uid="uid://ciat32vfeu5ic" path="res://assets/selfmadehouse.png" id="4_6ba6v"]
[ext_resource type="Texture2D" uid="uid://cuqxotly4b0vb" path="res://assets/simpletree.png" id="5_7cgi1"]
[ext_resource type="Texture2D" uid="uid://c8jkjaao213b7" path="res://assets/gold-dollar-coin-18550(3).png" id="6_a6wdc"]
[ext_resource type="FontFile" uid="uid://dwvnucq3ajek6" path="res://fonts/a.ttf" id="7_46pfm"]
[ext_resource type="Script" path="res://player/coins_label.gd" id="8_fa0i4"]
[ext_resource type="Shader" path="res://Shaders/water.gdshader" id="10_0rjtn"]
[ext_resource type="PackedScene" uid="uid://dijpk10vvju1t" path="res://shopStuff/shop_ui.tscn" id="11_7wbxs"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_6ruyo"]
texture = ExtResource("1_5grux")
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:0/0 = 0
2:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:0/0/physics_layer_0/angular_velocity = 0.0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:0/0 = 0
4:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:0/0/physics_layer_0/angular_velocity = 0.0
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:1/0 = 0
1:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:1/0/physics_layer_0/angular_velocity = 0.0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:1/0 = 0
2:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:1/0/physics_layer_0/angular_velocity = 0.0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:2/0 = 0
0:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:2/0/physics_layer_0/angular_velocity = 0.0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:2/0 = 0
1:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:2/0/physics_layer_0/angular_velocity = 0.0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:2/0 = 0
2:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:2/0/physics_layer_0/angular_velocity = 0.0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_q73if"]
texture = ExtResource("2_c84y1")
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSet" id="TileSet_jq47t"]
physics_layer_0/collision_layer = 2
physics_layer_0/collision_mask = 5
sources/0 = SubResource("TileSetAtlasSource_6ruyo")
sources/1 = SubResource("TileSetAtlasSource_q73if")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5rn23"]
size = Vector2(66, 45)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_g3ilx"]
size = Vector2(5.5, 128)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_l6tum"]
size = Vector2(8, 86)

[sub_resource type="Theme" id="Theme_v0bmd"]
default_font = ExtResource("7_46pfm")
default_font_size = 15

[sub_resource type="RectangleShape2D" id="RectangleShape2D_w4q0p"]
size = Vector2(18.5, 20)

[sub_resource type="Theme" id="Theme_0ued0"]
default_font = ExtResource("7_46pfm")
default_font_size = 5

[sub_resource type="ShaderMaterial" id="ShaderMaterial_x2xo2"]
shader = ExtResource("10_0rjtn")
shader_parameter/progress = 0.9
shader_parameter/wave_1_color = Color(0.356863, 0.611765, 0.85098, 1)
shader_parameter/wave_1_amplitude = 0.05
shader_parameter/wave_1_frequency = -1.5
shader_parameter/wave_1_speed = 1.5
shader_parameter/wave_2_color = Color(0.396078, 0.709804, 0.898039, 1)
shader_parameter/wave_2_amplitude = 0.05
shader_parameter/wave_2_frequency = 1.5
shader_parameter/wave_2_speed = 1.5
shader_parameter/wave_2_shift = 1.0
shader_parameter/bg_color = Color(0.298039, 0.298039, 0.298039, 0)

[node name="MainScene" type="Node2D"]
script = ExtResource("1_6p1ww")

[node name="TileMap" type="TileMap" parent="."]
texture_filter = 1
tile_set = SubResource("TileSet_jq47t")
format = 2
layer_0/tile_data = PackedInt32Array(1310737, 65536, 0, 1310738, 65536, 0, 1310739, 65536, 0, 1310740, 65536, 0, 1310741, 65536, 0, 1310742, 65536, 0, 1310743, 65536, 0, 1310744, 65536, 0, 1310745, 65536, 0, 1310746, 65536, 0, 1310747, 65536, 0, 1310748, 65536, 0, 1310749, 65536, 0, 1310750, 65536, 0, 1310751, 65536, 0, 1310752, 65536, 0, 1310753, 65536, 0, 1310754, 65536, 0, 1310755, 65536, 0, 1310756, 65536, 0, 1310757, 131072, 0, 1376274, 65536, 1, 1376275, 65536, 1, 1376276, 65536, 1, 1376277, 65536, 1, 1376278, 65536, 1, 1376279, 65536, 1, 1376280, 65536, 1, 1376281, 65536, 1, 1376282, 65536, 1, 1376283, 65536, 1, 1376284, 65536, 1, 1376285, 65536, 1, 1376286, 65536, 1, 1376287, 65536, 1, 1376288, 65536, 1, 1376289, 65536, 1, 1376290, 65536, 1, 1376291, 65536, 1, 1376292, 65536, 1, 1376293, 131072, 1, 1441829, 131072, 1, 1507365, 131072, 1, 1572901, 131072, 1, 1572900, 65536, 1, 1572899, 65536, 1, 1572898, 65536, 1, 1572897, 65536, 1, 1572896, 65536, 1, 1572895, 65536, 1, 1572894, 65536, 1, 1572893, 65536, 1, 1572892, 65536, 1, 1572891, 65536, 1, 1572890, 65536, 1, 1572889, 65536, 1, 1572888, 65536, 1, 1572887, 65536, 1, 1572886, 65536, 1, 1572885, 65536, 1, 1572884, 65536, 1, 1572883, 65536, 1, 1572882, 65536, 1, 1572881, 65536, 1, 1507345, 65536, 1, 1441809, 65536, 1, 1376273, 65536, 1, 1507346, 65536, 1, 1441810, 65536, 1, 1441811, 65536, 1, 1507347, 65536, 1, 1507348, 65536, 1, 1507349, 65536, 1, 1507350, 65536, 1, 1507351, 65536, 1, 1507352, 65536, 1, 1507353, 65536, 1, 1507354, 65536, 1, 1507355, 65536, 1, 1507356, 65536, 1, 1507357, 65536, 1, 1507358, 65536, 1, 1507359, 65536, 1, 1507360, 65536, 1, 1507361, 65536, 1, 1507362, 65536, 1, 1507363, 65536, 1, 1507364, 65536, 1, 1441828, 65536, 1, 1441827, 65536, 1, 1441826, 65536, 1, 1441825, 65536, 1, 1441824, 65536, 1, 1441823, 65536, 1, 1441813, 65536, 1, 1441812, 65536, 1, 1441814, 65536, 1, 1441815, 65536, 1, 1441816, 65536, 1, 1441817, 65536, 1, 1441818, 65536, 1, 1441819, 65536, 1, 1441820, 65536, 1, 1441821, 65536, 1, 1441822, 65536, 1, 1638437, 131072, 1, 1638436, 65536, 1, 1638418, 65536, 1, 1638420, 65536, 1, 1638419, 65536, 1, 1638421, 65536, 1, 1638422, 65536, 1, 1638423, 65536, 1, 1638424, 65536, 1, 1638425, 65536, 1, 1638426, 65536, 1, 1638427, 65536, 1, 1638428, 65536, 1, 1638429, 65536, 1, 1638430, 65536, 1, 1638431, 65536, 1, 1638432, 65536, 1, 1638433, 65536, 1, 1638434, 65536, 1, 1638435, 65536, 1, 1638417, 65536, 1, 1703953, 65536, 2, 1703954, 65536, 2, 1703955, 65536, 2, 1703956, 65536, 2, 1703957, 65536, 2, 1703958, 65536, 2, 1703959, 65536, 2, 1703960, 65536, 2, 1703961, 65536, 2, 1703962, 65536, 2, 1703963, 65536, 2, 1703964, 65536, 2, 1703965, 65536, 2, 1703966, 65536, 2, 1703967, 65536, 2, 1703968, 65536, 2, 1703969, 65536, 2, 1703970, 65536, 2, 1703971, 65536, 2, 1703972, 65536, 2, 1703973, 131072, 2, 1310736, 65536, 0, 1310735, 65536, 0, 1310734, 65536, 0, 1310733, 65536, 0, 1310732, 65536, 0, 1310731, 65536, 0, 1310730, 65536, 0, 1310729, 65536, 0, 1310728, 65536, 0, 1310727, 65536, 0, 1310726, 65536, 0, 1310725, 65536, 0, 1310724, 65536, 0, 1310723, 65536, 0, 1310722, 65536, 0, 1310721, 65536, 0, 1310720, 65536, 0, 1376272, 65536, 1, 1376271, 65536, 1, 1376270, 65536, 1, 1376269, 65536, 1, 1376268, 65536, 1, 1376267, 65536, 1, 1376266, 65536, 1, 1376265, 65536, 1, 1376264, 65536, 1, 1376263, 65536, 1, 1376262, 65536, 1, 1376261, 65536, 1, 1376260, 65536, 1, 1376259, 65536, 1, 1376258, 65536, 1, 1376257, 65536, 1, 1376256, 65536, 1, 1376255, 65536, 0, 1376254, 65536, 0, 1376253, 65536, 0, 1376252, 65536, 0, 1376251, 65536, 0, 1376250, 65536, 0, 1376249, 65536, 0, 1376248, 65536, 0, 1376247, 0, 0, 1441783, 0, 1, 1507319, 0, 1, 1572855, 0, 1, 1638391, 0, 1, 1703927, 0, 1, 1769463, 0, 2, 1769464, 65536, 2, 1769465, 65536, 2, 1769466, 65536, 2, 1769467, 65536, 2, 1769468, 65536, 2, 1769469, 65536, 2, 1769470, 65536, 2, 1769471, 65536, 2, 1703936, 65536, 2, 1703937, 65536, 2, 1703938, 65536, 2, 1703939, 65536, 2, 1703940, 65536, 2, 1703941, 65536, 2, 1703942, 65536, 2, 1703943, 65536, 2, 1703944, 65536, 2, 1703945, 65536, 2, 1703946, 65536, 2, 1703947, 65536, 2, 1703948, 65536, 2, 1703949, 65536, 2, 1703950, 65536, 2, 1703951, 65536, 2, 1703952, 65536, 2, 1703934, 65536, 1, 1638398, 65536, 1, 1572862, 65536, 1, 1507326, 65536, 1, 1441790, 65536, 1, 1441789, 65536, 1, 1441788, 65536, 1, 1441787, 65536, 1, 1441786, 65536, 1, 1441785, 65536, 1, 1441784, 65536, 1, 1507320, 65536, 1, 1572856, 65536, 1, 1638392, 65536, 1, 1703928, 65536, 1, 1703929, 65536, 1, 1638393, 65536, 1, 1572857, 65536, 1, 1507321, 65536, 1, 1507322, 65536, 1, 1572858, 65536, 1, 1638394, 65536, 1, 1703930, 65536, 1, 1703931, 65536, 1, 1638395, 65536, 1, 1572859, 65536, 1, 1507323, 65536, 1, 1507324, 65536, 1, 1572860, 65536, 1, 1638396, 65536, 1, 1703932, 65536, 1, 1703933, 65536, 1, 1638397, 65536, 1, 1572861, 65536, 1, 1507325, 65536, 1, 1441791, 65536, 1, 1507327, 65536, 1, 1572863, 65536, 1, 1638399, 65536, 1, 1703935, 65536, 1, 1638400, 65536, 1, 1572864, 65536, 1, 1507328, 65536, 1, 1441792, 65536, 1, 1441793, 65536, 1, 1507329, 65536, 1, 1572865, 65536, 1, 1638401, 65536, 1, 1638402, 65536, 1, 1572866, 65536, 1, 1507330, 65536, 1, 1441794, 65536, 1, 1441795, 65536, 1, 1507331, 65536, 1, 1572867, 65536, 1, 1638403, 65536, 1, 1638404, 65536, 1, 1572868, 65536, 1, 1507332, 65536, 1, 1441796, 65536, 1, 1441797, 65536, 1, 1507333, 65536, 1, 1572869, 65536, 1, 1638405, 65536, 1, 1638406, 65536, 1, 1572870, 65536, 1, 1507334, 65536, 1, 1441798, 65536, 1, 1441799, 65536, 1, 1507335, 65536, 1, 1572871, 65536, 1, 1638407, 65536, 1, 1638408, 65536, 1, 1572872, 65536, 1, 1507336, 65536, 1, 1441800, 65536, 1, 1441801, 65536, 1, 1507337, 65536, 1, 1572873, 65536, 1, 1638409, 65536, 1, 1638410, 65536, 1, 1572874, 65536, 1, 1507338, 65536, 1, 1441802, 65536, 1, 1441803, 65536, 1, 1507339, 65536, 1, 1572875, 65536, 1, 1638411, 65536, 1, 1638412, 65536, 1, 1572876, 65536, 1, 1507340, 65536, 1, 1441804, 65536, 1, 1441805, 65536, 1, 1507341, 65536, 1, 1572877, 65536, 1, 1638413, 65536, 1, 1638414, 65536, 1, 1572878, 65536, 1, 1507342, 65536, 1, 1441806, 65536, 1, 1441807, 65536, 1, 1507343, 65536, 1, 1572879, 65536, 1, 1638415, 65536, 1, 1638416, 65536, 1, 1572880, 65536, 1, 1507344, 65536, 1, 1441808, 65536, 1)

[node name="Player" parent="." instance=ExtResource("3_0oq2p")]
z_index = 1
position = Vector2(441, 307)

[node name="PlayerHouse" type="StaticBody2D" parent="."]
position = Vector2(284, 263)
collision_layer = 4
collision_mask = 2

[node name="Sprite2D" type="Sprite2D" parent="PlayerHouse"]
texture = ExtResource("4_6ba6v")

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerHouse"]
position = Vector2(0, 34.5)
shape = SubResource("RectangleShape2D_5rn23")

[node name="InvisibleWallRight" type="StaticBody2D" parent="."]
position = Vector2(609, 262)
collision_layer = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="InvisibleWallRight"]
position = Vector2(-0.75, 0)
shape = SubResource("RectangleShape2D_g3ilx")

[node name="InvisibleWallLeft" type="StaticBody2D" parent="."]
position = Vector2(-144, 263)
collision_layer = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="InvisibleWallLeft"]
shape = SubResource("RectangleShape2D_g3ilx")

[node name="ActualSpot" type="Area2D" parent="."]
position = Vector2(606, 282)

[node name="CollisionShape2D" type="CollisionShape2D" parent="ActualSpot"]
shape = SubResource("RectangleShape2D_l6tum")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = 2

[node name="CoinsPanel" type="Panel" parent="CanvasLayer"]
anchors_preset = -1
anchor_left = 0.016
anchor_top = 0.889
anchor_right = 0.133
anchor_bottom = 0.972
offset_left = -0.240001
offset_top = -0.0400085
offset_right = -0.120003
offset_bottom = 0.0799866
grow_vertical = 0
pivot_offset = Vector2(30, 15)

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/CoinsPanel"]
texture_filter = 1
layout_mode = 2
anchor_left = 0.067
anchor_top = 0.1
anchor_right = 0.373
anchor_bottom = 0.9
offset_left = -1.025
offset_right = 0.0249977
texture = ExtResource("6_a6wdc")
expand_mode = 4

[node name="CenterContainer" type="CenterContainer" parent="CanvasLayer/CoinsPanel"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.413
anchor_top = 0.133
anchor_right = 0.983
anchor_bottom = 0.867
offset_left = 0.0249996
offset_top = 0.00999999
offset_right = 0.274994
offset_bottom = -0.0100021
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="CanvasLayer/CoinsPanel/CenterContainer" groups=["ThingsToSave"]]
layout_mode = 2
theme = SubResource("Theme_v0bmd")
script = ExtResource("8_fa0i4")

[node name="CloseGamePanel" type="Panel" parent="CanvasLayer"]
process_mode = 3
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(320, 180)

[node name="SaveAndQuitButton" type="Button" parent="CanvasLayer/CloseGamePanel"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.4
anchor_top = 0.539
anchor_right = 0.6
anchor_bottom = 0.625
offset_top = -0.0400085
grow_horizontal = 2
grow_vertical = 2
mouse_default_cursor_shape = 2
text = "SAVE AND QUIT"

[node name="ResumeButton" type="Button" parent="CanvasLayer/CloseGamePanel"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.444
anchor_top = 0.428
anchor_right = 0.556
anchor_bottom = 0.514
offset_left = -0.160034
offset_top = -0.0800171
offset_right = 0.159973
offset_bottom = -0.0399628
mouse_default_cursor_shape = 2
text = "RESUME"

[node name="Shop" type="Node2D" parent="."]
position = Vector2(521, 308)

[node name="ShopConceptArea" type="Area2D" parent="Shop"]

[node name="Simpletree" type="Sprite2D" parent="Shop/ShopConceptArea"]
position = Vector2(1, 2)
scale = Vector2(1.2, 1.2)
texture = ExtResource("5_7cgi1")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Shop/ShopConceptArea"]
position = Vector2(0.25, 2)
shape = SubResource("RectangleShape2D_w4q0p")

[node name="OpenShopButton" type="Button" parent="Shop/ShopConceptArea"]
visible = false
anchors_preset = -1
anchor_left = 0.027
anchor_right = 0.971
anchor_bottom = 1.0
offset_left = -17.0
offset_top = -29.0
offset_right = 17.0
offset_bottom = -13.0
grow_horizontal = 2
grow_vertical = 2
mouse_default_cursor_shape = 2
theme = SubResource("Theme_0ued0")
text = "Open shop"

[node name="ShopUI" parent="Shop" instance=ExtResource("11_7wbxs")]
visible = false
z_index = 1
offset_left = -103.0
offset_top = -109.0
offset_right = 97.0
offset_bottom = 21.0

[node name="ColorRect" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_x2xo2")
offset_left = 608.0
offset_top = 324.0
offset_right = 945.0
offset_bottom = 431.0
color = Color(1, 0, 1, 1)

[connection signal="body_entered" from="ActualSpot" to="Player" method="_on_actual_spot_body_entered"]
[connection signal="body_exited" from="ActualSpot" to="Player" method="_on_actual_spot_body_exited"]
[connection signal="pressed" from="CanvasLayer/CloseGamePanel/SaveAndQuitButton" to="." method="_on_save_and_quit_button_pressed"]
[connection signal="pressed" from="CanvasLayer/CloseGamePanel/ResumeButton" to="." method="_on_resume_button_pressed"]
[connection signal="body_entered" from="Shop/ShopConceptArea" to="." method="_on_shop_concept_area_body_entered"]
[connection signal="body_exited" from="Shop/ShopConceptArea" to="." method="_on_shop_concept_area_body_exited"]
[connection signal="pressed" from="Shop/ShopConceptArea/OpenShopButton" to="." method="_on_open_shop_button_pressed"]
